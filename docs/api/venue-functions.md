# –§—É–Ω–∫—Ü–∏–∏ –∏ –æ—Ç–∫–ª–∏–∫–∏ –ø–ª–æ—â–∞–¥–æ–∫

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –ø–ª–æ—â–∞–¥–æ–∫ (—Å–±–æ—Ä, —Ä–∞–∑–¥–∞—á–∞, —É—Å–ª—É–≥–∏) –∏ –æ—Ç–∫–ª–∏–∫–∞–º–∏ –Ω–∞ –Ω–∏—Ö.

## üìã –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

### –§—É–Ω–∫—Ü–∏–∏ –ø–ª–æ—â–∞–¥–æ–∫

- [–°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é](#—Å–æ–∑–¥–∞—Ç—å-—Ñ—É–Ω–∫—Ü–∏—é) - `POST /venue-functions`
- [–°–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π](#—Å–ø–∏—Å–æ–∫-—Ñ—É–Ω–∫—Ü–∏–π) - `GET /venue-functions`
- [–û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é](#–æ–±–Ω–æ–≤–∏—Ç—å-—Ñ—É–Ω–∫—Ü–∏—é) - `PATCH /venue-functions/:id`
- [–£–¥–∞–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é](#—É–¥–∞–ª–∏—Ç—å-—Ñ—É–Ω–∫—Ü–∏—é) - `DELETE /venue-functions/:id`

### –¢–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π

- [–°–±–æ—Ä –≤–µ—â–µ–π](#—Ç–∏–ø-—Å–±–æ—Ä-–≤–µ—â–µ–π) - `collection_point`
- [–†–∞–∑–¥–∞—á–∞ –≤–µ—â–µ–π](#—Ç–∏–ø-—Ä–∞–∑–¥–∞—á–∞-–≤–µ—â–µ–π) - `distribution_point`
- [–í–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–∏–µ —É—Å–ª—É–≥–∏](#—Ç–∏–ø-—É—Å–ª—É–≥–∏) - `services_needed`
- [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏](#–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ-—Ñ—É–Ω–∫—Ü–∏–∏) - `custom`

---

## –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é

`POST /venue-functions`

üîê **–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä, –≤–ª–∞–¥–µ–ª–µ—Ü –ø–ª–æ—â–∞–¥–∫–∏

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```javascript
const response = await fetch("/api/venue-functions", {
  method: "POST",
  headers: {
    Authorization: `Bearer ${token}`,
    "Content-Type": "application/json",
  },
  body: JSON.stringify({
    venueId: "venue-uuid",
    type: "collection_point",
    items: [{ categoryId: "cat-food", quantity: "a_lot" }],
    specialRequests: "–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–µ –≤–µ—â–∏",
  }),
})
```

### –¢–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π

<details>
<summary><strong>–°–±–æ—Ä –≤–µ—â–µ–π</strong> (collection_point)</summary>

```json
{
  "type": "collection_point",
  "items": [
    { "categoryId": "cat-food-canned", "quantity": "a_lot" },
    { "categoryId": "cat-clothes-winter", "quantity": "some" }
  ]
}
```

</details>

<details>
<summary><strong>–†–∞–∑–¥–∞—á–∞ –≤–µ—â–µ–π</strong> (distribution_point)</summary>

```json
{
  "type": "distribution_point",
  "items": [{ "categoryId": "cat-food-canned", "quantity": "few" }],
  "openingTimes": [
    { "dayOfWeek": "monday", "openTime": "10:00", "closeTime": "16:00" }
  ]
}
```

</details>

<details>
<summary><strong>–í–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–∏–µ —É—Å–ª—É–≥–∏</strong> (services_needed)</summary>

```json
{
  "type": "services_needed",
  "services": [
    { "serviceName": "–ú–µ–¥–æ—Å–º–æ—Ç—Ä", "numberOfVolunteers": 2 },
    { "serviceName": "–ü–µ—Ä–µ–≤–æ–¥", "numberOfVolunteers": 1 }
  ]
}
```

</details>

### –û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞

‚úÖ **–£—Å–ø–µ—Ö (201):**

```json
{
  "success": true,
  "data": {
    "function": {
      "id": "func-uuid",
      "type": "collection_point",
      "status": "active",
      "items": [...]
    }
  }
}
```

‚ùå **–û—à–∏–±–∫–∏:**

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ                               |
| --- | -------------------------------------- |
| 400 | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö) |
| 403 | –ù–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –ø–ª–æ—â–∞–¥–∫—É                   |

---

## –°–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π

`GET /venue-functions`

üåç **–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø** (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞

```
?venueId=venue-uuid     // –§–∏–ª—å—Ç—Ä –ø–æ –ø–ª–æ—â–∞–¥–∫–µ
&type=collection_point  // –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É
&status=active          // –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
&page=1&limit=10        // –ü–∞–≥–∏–Ω–∞—Ü–∏—è
```

### –ü—Ä–∏–º–µ—Ä

```javascript
const params = new URLSearchParams({
  venueId: "venue-uuid",
  type: "collection_point",
  status: "active",
})

const response = await fetch(`/api/venue-functions?${params}`)
const { data } = await response.json()

console.log(data.items) // –ú–∞—Å—Å–∏–≤ —Ñ—É–Ω–∫—Ü–∏–π
console.log(data.pagination) // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
```

### –û—Ç–≤–µ—Ç

```json
{
  "success": true,
  "data": {
    "items": [...],
    "pagination": {
      "currentPage": 1,
      "totalPages": 3,
      "totalItems": 25
    }
  }
}
```

---

## –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é

`PATCH /venue-functions/:id`

üîê **–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –í–ª–∞–¥–µ–ª–µ—Ü –ø–ª–æ—â–∞–¥–∫–∏

### –ü—Ä–∏–º–µ—Ä

```javascript
const response = await fetch(`/api/venue-functions/${functionId}`, {
  method: "PATCH",
  headers: {
    Authorization: `Bearer ${token}`,
    "Content-Type": "application/json",
  },
  body: JSON.stringify({
    status: "inactive",
    items: [{ categoryId: "cat-food", quantity: "few" }],
  }),
})
```

üí° **–û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å**

---

## –£–¥–∞–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é

`DELETE /venue-functions/:id`

üîê **–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –í–ª–∞–¥–µ–ª–µ—Ü –ø–ª–æ—â–∞–¥–∫–∏

### –ü—Ä–∏–º–µ—Ä

```javascript
await fetch(`/api/venue-functions/${functionId}`, {
  method: "DELETE",
  headers: { Authorization: `Bearer ${token}` },
})
```

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ—Ç–∫–ª–∏–∫–æ–≤

---

## üìò –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫

### –¢–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π

| –¢–∏–ø                  | –û–ø–∏—Å–∞–Ω–∏–µ                 | –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è            |
| -------------------- | ------------------------ | ------------------------------- |
| `collection_point`   | –ü—É–Ω–∫—Ç —Å–±–æ—Ä–∞ –≤–µ—â–µ–π        | –°–æ–±–∏—Ä–∞–µ–º –µ–¥—É, –æ–¥–µ–∂–¥—É            |
| `distribution_point` | –ü—É–Ω–∫—Ç —Ä–∞–∑–¥–∞—á–∏ –≤–µ—â–µ–π      | –†–∞–∑–¥–∞–µ–º –µ–¥—É, –æ–¥–µ–∂–¥—É –Ω—É–∂–¥–∞—é—â–∏–º—Å—è |
| `services_needed`    | –¢—Ä–µ–±—É—é—Ç—Å—è –≤–æ–ª–æ–Ω—Ç–µ—Ä—ã      | –ù—É–∂–Ω—ã –≤—Ä–∞—á–∏, –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∏        |
| `custom`             | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è | –õ—é–±–∞—è –¥—Ä—É–≥–∞—è –ø–æ–º–æ—â—å             |

### –£—Ä–æ–≤–Ω–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞

| –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ                   |
| -------- | -------- | ------------------------------- |
| `a_lot`  | –ú–Ω–æ–≥–æ    | –ü—Ä–∏–Ω–∏–º–∞–µ–º/—Ä–∞–∑–¥–∞–µ–º –±–æ–ª—å—à–æ–π –æ–±—ä–µ–º |
| `some`   | –°—Ä–µ–¥–Ω–µ   | –£–º–µ—Ä–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ            |
| `few`    | –ú–∞–ª–æ     | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –∑–∞–ø–∞—Å—ã             |

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è       | –ü—Ä–∏–º–µ—Ä—ã                          |
| --------------- | -------------------------------- |
| `medical`       | –ú–µ–¥–æ—Å–º–æ—Ç—Ä, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –≤—Ä–∞—á–∞    |
| `legal`         | –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è |
| `psychological` | –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞        |
| `translation`   | –ü–µ—Ä–µ–≤–æ–¥, —É—Å—Ç–Ω—ã–π/–ø–∏—Å—å–º–µ–Ω–Ω—ã–π       |
| `transport`     | –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —É—Å–ª—É–≥–∏              |
| `education`     | –û–±—É—á–µ–Ω–∏–µ, –∫—É—Ä—Å—ã                  |
| `other`         | –î—Ä—É–≥–∏–µ —É—Å–ª—É–≥–∏                    |

### –°—Ç–∞—Ç—É—Å—ã —Ñ—É–Ω–∫—Ü–∏–π

| –°—Ç–∞—Ç—É—Å     | –û–ø–∏—Å–∞–Ω–∏–µ                                |
| ---------- | --------------------------------------- |
| `active`   | –§—É–Ω–∫—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ |
| `inactive` | –§—É–Ω–∫—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞              |
| `archived` | –§—É–Ω–∫—Ü–∏—è –∑–∞–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∞                  |

---

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

–î–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π —Ç–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏.

### –°–æ–∑–¥–∞—Ç—å —Ç–∏–ø

`POST /custom-function-types`

```javascript
const response = await fetch("/api/custom-function-types", {
  method: "POST",
  headers: {
    Authorization: `Bearer ${token}`,
    "Content-Type": "application/json",
  },
  body: JSON.stringify({
    name: "–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∫—É—Ö–Ω—è",
    description: "–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –µ–¥—ã –¥–ª—è –±–µ–∂–µ–Ω—Ü–µ–≤",
  }),
})
```

### –°–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤

`GET /custom-function-types`

```javascript
const response = await fetch("/api/custom-function-types")
const { data } = await response.json()
console.log(data.customFunctionTypes)
```

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–π—Ç–µ –ø–ª–æ—â–∞–¥–∫—É

```javascript
// –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –ø–ª–æ—â–∞–¥–∫—É (—Å–º. venues API)
const venue = await createVenue({ name: "–°–∫–ª–∞–¥ –≥—É–º–ø–æ–º–æ—â–∏", ... })
```

### 2. –î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é

```javascript
// –î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –∫ –ø–ª–æ—â–∞–¥–∫–µ
const func = await fetch("/api/venue-functions", {
  method: "POST",
  body: JSON.stringify({
    venueId: venue.id,
    type: "collection_point",
    items: [{ categoryId: "cat-food", quantity: "a_lot" }],
  }),
})
```

### 3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–≤–∏–¥—è—Ç –Ω–∞ –∫–∞—Ä—Ç–µ

–§—É–Ω–∫—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ, –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –æ—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è.

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è:**

   - –î–ª—è `collection_point` –∏ `distribution_point` –Ω—É–∂–µ–Ω –º–∏–Ω–∏–º—É–º 1 —ç–ª–µ–º–µ–Ω—Ç –≤ `items`
   - –î–ª—è `services_needed` –Ω—É–∂–µ–Ω –º–∏–Ω–∏–º—É–º 1 —ç–ª–µ–º–µ–Ω—Ç –≤ `services`
   - –î–ª—è `custom` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω `customTypeId`

2. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**

   - –°–æ–∑–¥–∞–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å ‚Äî —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü—ã –ø–ª–æ—â–∞–¥–∫–∏
   - –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å ‚Äî –≤—Å–µ (–≤–∫–ª—é—á–∞—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö)

3. **–ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ:**
   - –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–ª–æ—â–∞–¥–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ –µ—ë —Ñ—É–Ω–∫—Ü–∏–∏
   - –£–¥–∞–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –æ—Ç–∫–ª–∏–∫–∞–º–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ

---

## üîç –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [API –ø–ª–æ—â–∞–¥–æ–∫](./venues.md)
- [API –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏](./auth.md)
- [–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–µ—â–µ–π](./item-categories.md)

---

## üí¨ –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

<details>
<summary><strong>–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã?</strong></summary>

–î–æ–±–∞–≤—å—Ç–µ –º–∞—Å—Å–∏–≤ `openingTimes` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏:

```json
{
  "openingTimes": [
    { "dayOfWeek": "monday", "openTime": "09:00", "closeTime": "17:00" },
    { "dayOfWeek": "sunday", "isClosed": true }
  ]
}
```

</details>

<details>
<summary><strong>–ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏?</strong></summary>

–ù–µ—Ç, —Ç–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å –Ω—É–∂–Ω—ã–º —Ç–∏–ø–æ–º.

</details>

<details>
<summary><strong>–ö–∞–∫ —É–∑–Ω–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ –æ—Ç–∫–ª–∏–∫–æ–≤ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é?</strong></summary>

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:

```javascript
GET /venue-functions/:id/statistics
```

</details>
