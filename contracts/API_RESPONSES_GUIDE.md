# API Responses JSON - –ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç API

–§–∞–π–ª **api-responses.json** —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–º–µ—Ä—ã JSON –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç –≤—Å–µ—Ö API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ Care Hub.

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞

```json
{
  "apiResponses": {
    "auth": { ... },              // –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
    "venues": { ... },            // –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø–ª–æ—â–∞–¥–æ–∫
    "venueFunctions": { ... },    // –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π –ø–ª–æ—â–∞–¥–æ–∫
    "itemCategories": { ... },    // –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π
    "volunteerResponses": { ... }, // –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –æ—Ç–∫–ª–∏–∫–æ–≤ –≤–æ–ª–æ–Ω—Ç–µ—Ä–æ–≤
    "beneficiaryCommitments": { ... }, // –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤
    "projections": { ... },       // –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
    "needStatus": { ... }         // –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π
  },
  "errorCodes": { ... },          // –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫
  "httpHeaders": { ... }          // –ü—Ä–∏–º–µ—Ä—ã HTTP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
}
```

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±—ç–∫–µ–Ω–¥–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –∫–∞–∫ —à–∞–±–ª–æ–Ω –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤:

```typescript
import responses from "./contracts/api-responses.json"

// –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–ª–æ—â–∞–¥–∫–∏
const successExample = responses.apiResponses.venues["POST /venues"].success

// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞
return {
  success: true,
  data: {
    venue: createdVenue,
  },
  timestamp: new Date().toISOString(),
}
```

### 2. –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤:

```typescript
import responses from "./contracts/api-responses.json"

describe("POST /venues", () => {
  it("should create venue", async () => {
    const request = responses.apiResponses.venues["POST /venues"].request
    const response = await api.post("/venues", request)

    expect(response).toMatchObject(
      responses.apiResponses.venues["POST /venues"].success
    )
  })
})
```

### 3. –î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–ü—Ä–∏–º–µ—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—é—Ç—Å—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API.

### 4. –î–ª—è mock —Å–µ—Ä–≤–µ—Ä–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è mock —Å–µ—Ä–≤–µ—Ä–æ–≤:

```typescript
import responses from "./contracts/api-responses.json"

app.post("/api/venues", (req, res) => {
  res.json(responses.apiResponses.venues["POST /venues"].success)
})
```

## üìö –ü—Ä–∏–º–µ—Ä—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- `POST /auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /auth/login` - –í—Ö–æ–¥
- `POST /auth/logout` - –í—ã—Ö–æ–¥
- `GET /auth/me` - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /auth/refresh` - –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω

### –ü–ª–æ—â–∞–¥–∫–∏

- `POST /venues` - –°–æ–∑–¥–∞—Ç—å –ø–ª–æ—â–∞–¥–∫—É
- `GET /venues` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–ª–æ—â–∞–¥–æ–∫
- `GET /venues/:id` - –ü–æ–ª—É—á–∏—Ç—å –ø–ª–æ—â–∞–¥–∫—É –ø–æ ID
- `PATCH /venues/:id` - –û–±–Ω–æ–≤–∏—Ç—å –ø–ª–æ—â–∞–¥–∫—É
- `DELETE /venues/:id` - –£–¥–∞–ª–∏—Ç—å –ø–ª–æ—â–∞–¥–∫—É

### –§—É–Ω–∫—Ü–∏–∏ –ø–ª–æ—â–∞–¥–æ–∫

- `POST /venue-functions` - –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é
- `GET /venue-functions` - –ü–æ–ª—É—á–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤

- `GET /item-categories` - –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `GET /item-categories/hierarchy` - –ü–æ–ª—É—á–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é

### –û—Ç–∫–ª–∏–∫–∏ –≤–æ–ª–æ–Ω—Ç–µ—Ä–æ–≤

- `POST /volunteer-responses` - –°–æ–∑–¥–∞—Ç—å –æ—Ç–∫–ª–∏–∫
- `GET /volunteer-responses` - –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–∫–ª–∏–∫–∏
- `PATCH /volunteer-responses/:id` - –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–∫–ª–∏–∫

### –û–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –±–µ–Ω–µ—Ñ–∏—Ü–∏–∞—Ä–æ–≤

- `POST /beneficiary-commitments` - –°–æ–∑–¥–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ
- `GET /beneficiary-commitments` - –ü–æ–ª—É—á–∏—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞

### –ü—Ä–æ–µ–∫—Ü–∏–∏ (–∞–Ω–∞–ª–∏—Ç–∏–∫–∞)

- `GET /projections/venue/:venueId` - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ü–∏—é –ø–ª–æ—â–∞–¥–∫–∏

### –°—Ç–∞—Ç—É—Å—ã –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π

- `POST /need-status` - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏
- `GET /need-status` - –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å—ã

## üîç –ö–æ–¥—ã –æ—à–∏–±–æ–∫

–§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–º–µ—Ä—ã –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫:

| –ö–æ–¥                   | HTTP Status | –û–ø–∏—Å–∞–Ω–∏–µ                  |
| --------------------- | ----------- | ------------------------- |
| `INTERNAL_ERROR`      | 500         | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |
| `VALIDATION_ERROR`    | 400         | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏          |
| `UNAUTHORIZED`        | 401         | –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω            |
| `FORBIDDEN`           | 403         | –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω           |
| `NOT_FOUND`           | 404         | –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω          |
| `ALREADY_EXISTS`      | 409         | –†–µ—Å—É—Ä—Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç     |
| `RATE_LIMIT_EXCEEDED` | 429         | –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤   |

## üìù –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç

```json
{
  "success": true,
  "data": {
    // –î–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç–∞
  },
  "timestamp": "2024-11-15T10:30:00.000Z"
}
```

### –û—Ç–≤–µ—Ç —Å –æ—à–∏–±–∫–æ–π

```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
    "details": {
      // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–µ
    }
  },
  "timestamp": "2024-11-15T10:30:00.000Z"
}
```

## üîê HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏

### Request Headers

```
Authorization: Bearer <access_token>
Content-Type: application/json
Accept: application/json
```

### Response Headers

```
Content-Type: application/json
X-Request-Id: <request_id>
X-Rate-Limit-Limit: 100
X-Rate-Limit-Remaining: 95
X-Rate-Limit-Reset: <timestamp>
```

## üé® –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–æ—â–∞–¥–∫–∏

**Request:**

```bash
curl -X POST http://localhost:3000/api/venues \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d @- << EOF
{
  "title": "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø—É–Ω–∫—Ç –ø–æ–º–æ—â–∏",
  "description": "–û—Å–Ω–æ–≤–Ω–æ–π –ø—É–Ω–∫—Ç —Å–±–æ—Ä–∞ –∏ —Ä–∞–∑–¥–∞—á–∏",
  "type": "distribution_hub",
  "location": {
    "lat": 34.6756,
    "lng": 33.0431,
    "address": "—É–ª. –õ–µ–Ω–∏–Ω–∞ 123, –õ–∏–º–∞—Å—Å–æ–ª, –ö–∏–ø—Ä"
  },
  "operatingHours": [
    {
      "dayOfWeek": "monday",
      "openTime": "09:00",
      "closeTime": "17:00",
      "isClosed": false
    }
  ]
}
EOF
```

**Response (Success):**

```json
{
  "success": true,
  "data": {
    "venue": {
      "id": "venue-123e4567-e89b-12d3-a456-426614174000",
      "title": "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø—É–Ω–∫—Ç –ø–æ–º–æ—â–∏",
      "description": "–û—Å–Ω–æ–≤–Ω–æ–π –ø—É–Ω–∫—Ç —Å–±–æ—Ä–∞ –∏ —Ä–∞–∑–¥–∞—á–∏",
      "type": "distribution_hub",
      "location": {
        "lat": 34.6756,
        "lng": 33.0431,
        "address": "—É–ª. –õ–µ–Ω–∏–Ω–∞ 123, –õ–∏–º–∞—Å—Å–æ–ª, –ö–∏–ø—Ä"
      },
      "operatingHours": [...],
      "organizerId": "user-123",
      "status": "active",
      "functionsCount": 0,
      "createdAt": "2024-11-15T10:30:00.000Z",
      "updatedAt": "2024-11-15T10:30:00.000Z"
    }
  },
  "timestamp": "2024-11-15T10:30:00.000Z"
}
```

**Response (Error):**

```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö",
    "details": {
      "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞"
    }
  },
  "timestamp": "2024-11-15T10:30:00.000Z"
}
```

## üí° –°–æ–≤–µ—Ç—ã

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª –∫–∞–∫ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫** –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ API
2. **–ö–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É** –æ—Ç–≤–µ—Ç–æ–≤ –≤–∞—à–µ–≥–æ API —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
4. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ —Ñ–∞–π–ª** –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- [CONTRACTS.md](./CONTRACTS.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- [examples.ts](./examples.ts) - –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ TypeScript
- [README.md](./README.md) - –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤

---

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∫–∞–∫ –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã API –æ—Ç–≤–µ—Ç–æ–≤! üìö**
